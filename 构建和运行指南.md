# 后端服务构建和运行指南

## 当前状态

- ✅ 项目已清理（target目录已删除）
- ❌ Maven编译失败（Java编译器版本问题）
- ✅ 前端服务运行正常（端口2000, 2001, 2002）

## 在IDE中构建和运行（推荐）

### 步骤1: 重新构建项目

1. 打开 `voice_community_backend` 项目
2. 在IDE菜单栏选择：
   - **IntelliJ IDEA**: `Build` > `Rebuild Project`
   - **Eclipse**: `Project` > `Clean...` 然后 `Project` > `Build Project`
   - **VS Code**: 使用命令面板 `Ctrl+Shift+P` > `Java: Clean Java Language Server Workspace`

### 步骤2: 检查构建结果

构建成功后，应该能看到：
- `target/classes/com/vc/VoiceCommunityBackendApplication.class` 存在
- `target/classes/com/vc/pojo/entity/Comment.class` 存在
- 没有编译错误

### 步骤3: 运行应用

1. 找到 `VoiceCommunityBackendApplication.java`
2. 右键点击 > `Run 'VoiceCommunityBackendApplication'`
3. 或直接点击类旁边的绿色运行按钮

### 步骤4: 验证服务启动

等待10-30秒后，检查：
- 控制台显示 `Started VoiceCommunityBackendApplication`
- 访问 http://localhost:8081/user/getAllUsers 应该返回数据

## 如果IDE构建也失败

### 检查Java版本

确保IDE使用Java 21：
- **IntelliJ IDEA**: `File` > `Project Structure` > `Project` > `SDK` 选择 Java 21
- **Eclipse**: `Window` > `Preferences` > `Java` > `Installed JREs` 确保有Java 21

### 检查Lombok插件

确保IDE安装了Lombok插件：
- **IntelliJ IDEA**: `Settings` > `Plugins` > 搜索 "Lombok" 并安装
- **Eclipse**: 下载并安装 Lombok jar

## 快速检查脚本

运行以下命令检查构建状态：

```bash
cd voice_community_backend
./check-build.sh
```

## 服务访问地址

构建并运行成功后：

- 📱 移动端前端: http://localhost:2000
- ⚙️  后台管理前端: http://localhost:2001
- 🌐 Web门户前端: http://localhost:2002
- 🖥️  主后端API: http://localhost:8081
- 🔧 管理后端API: http://localhost:8082

