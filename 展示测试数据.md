# 测试数据展示

## 数据插入说明

已创建完整的测试数据脚本 `insert_comprehensive_test_data.sql`，覆盖以下所有实体：

### 核心业务数据

1. **用户 (USER)** - 8个测试用户
   - 包含普通用户和领导用户
   - 不同积分、点赞、评论数

2. **心声 (voice)** - 8条心声
   - 创意(IDEA)类型：5条
   - 员工声音(GOSSIPING)类型：3条
   - 包含不同状态：NORMAL、TO_PROJECT

3. **评论 (COMMENT)** - 多条评论
   - 顶级评论
   - 回复评论（多级回复）

4. **点赞 (vote)** - 多个点赞记录
   - 对心声的点赞
   - 对评论的点赞

5. **标签 (tag)** - 4个标签
   - 枢纽、园区、补电+、其他

6. **心声标签关联 (voice_tag)** - 多个关联
   - 心声与标签的多对多关系

7. **@提醒 (voice_at)** - 多个提醒
   - 已读和未读状态

### 勋章系统数据

8. **勋章 (medal)** - 6个勋章
   - 初声一鸣、创意达人、社交之星、百强贡献者、领航导师、人气之声

9. **用户勋章关联 (user_medal)** - 多个关联
   - 用户获得的勋章记录

### 推荐和赞同数据

10. **推荐 (voice_recommend)** - 多个推荐
    - 对创意的推荐

11. **赞同 (voice_agree)** - 多个赞同
    - 对员工声音的赞同/不赞同

### 任务板模块数据

12. **任务板 (taskboard)** - 2个任务板
    - 不同状态：BIDDING、IN_PROGRESS

13. **投标 (bid)** - 2个投标
    - 不同状态：PENDING、APPROVED

14. **项目 (project)** - 1个项目
    - 进行中的项目

15. **项目成员 (project_member)** - 多个成员
    - 不同角色：LEADER、核心成员

16. **里程碑 (milestone)** - 2个里程碑
    - 不同状态：IN_PROGRESS、PENDING

17. **任务 (task)** - 1个任务
    - 进行中的任务

18. **进度日志 (progress_log)** - 1条日志
    - 项目进度记录

## 查看数据

### 方式1: 使用SQL脚本

```bash
cd /Users/skyshi/code/CXPT
./show_test_data.sh
```

### 方式2: 使用SQLite命令行

```bash
cd /Users/skyshi/code/CXPT
sqlite3 voice_community_backend/data/voice_community.db

# 查看用户
SELECT * FROM USER WHERE is_deleted = 0 LIMIT 10;

# 查看心声
SELECT * FROM voice WHERE is_deleted = 0 LIMIT 10;

# 查看评论
SELECT * FROM COMMENT WHERE is_deleted = 0 LIMIT 10;

# 查看统计数据
SELECT '用户数' as type, COUNT(*) as count FROM USER WHERE is_deleted = 0
UNION ALL SELECT '心声数', COUNT(*) FROM voice WHERE is_deleted = 0
UNION ALL SELECT '评论数', COUNT(*) FROM COMMENT WHERE is_deleted = 0;
```

### 方式3: 通过API查看

```bash
# 用户列表
curl http://localhost:8081/user/getAllUsers

# 心声列表
curl 'http://localhost:8081/voice/getVoicesByParam?pageNum=1&pageSize=10'

# 评论列表（需要知道voiceId）
curl 'http://localhost:8081/comment/getAllCommentByVoiceId?voiceId=1&pageNum=1&pageSize=10'
```

### 方式4: 通过后台管理前端

访问 http://localhost:3000 查看后台管理界面中的数据

## 重新插入数据

如果需要重新插入数据，可以运行：

```bash
cd /Users/skyshi/code/CXPT
sqlite3 voice_community_backend/data/voice_community.db < insert_comprehensive_test_data.sql
```

注意：脚本中使用了 `INSERT OR IGNORE` 来避免重复插入，如果需要完全重新插入，可以先删除测试数据。


